webpackJsonp([5],{110:function(e,t,r){r(264);var a=r(18)(r(185),r(275),"data-v-ae3481f8",null);e.exports=a.exports},127:function(e,t,r){e.exports={default:r(128),__esModule:!0}},128:function(e,t,r){var a=r(129),i=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},129:function(e,t){var r=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},185:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(127),i=r.n(a),l={extractor_type_list:"extractor/type/list",spider_list:"type/list",submit_create:"template/create?type=Link",submit_edit:"template/update?type=Link"};t.default={name:"handlelink",data:function(){return{form:{id:"",include:"",exclude:"",pageid:"",area:"",expression:"",extractor_list:"",spider_type:"",exp_type:""},extractor_type_list:{},spider_list:{},flag:this.$route.query.type}},created:function(){this.getExtractorTypeList(),this.getSpiderList(),this.renderPage()},methods:{getExtractorTypeList:function(){var e=this;this.$http.get(l.extractor_type_list).then(function(t){"Success"===t.body.msg&&(e.extractor_type_list=t.body.data)},function(t){e.$message.error("网络错误，抽取器类型列表获取失败")})},getSpiderList:function(){var e=this;this.$http.get(l.spider_list).then(function(t){"Success"===t.body.msg&&(e.spider_list=t.body.data)},function(t){e.$message.error("网络错误，爬虫类型列表获取失败")})},renderPage:function(){if("edit"===this.flag){var e=JSON.parse(this.$route.query.data);delete e.spider_name,this.form=e}},onSubmit:function(){var e=this,t=JSON.parse(i()(this.form)),r="edit"===this.flag?l.submit_edit:l.submit_create;this.$http.post(r,t).then(function(t){"Success"===t.body.msg&&(e.$message.success("编辑成功！"),e.goBack())},function(t){e.$message.error("网络错误，请稍后重试")})},goBack:function(){this.$router.push("Link")}}}},200:function(e,t,r){t=e.exports=r(108)(),t.push([e.i,".form-wrap[data-v-ae3481f8]{margin:40px auto 0;width:50%}.el-select[data-v-ae3481f8]{width:100%}",""])},264:function(e,t,r){var a=r(200);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(109)("3dd0c57a",a,!0)},275:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/Link"}}},[e._v("链接列表")]),e._v(" "),r("el-breadcrumb-item",[e._v(e._s("add"===e.flag?"新增链接":"编辑链接"))])],1),e._v(" "),r("div",{staticClass:"form-wrap"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"序号"}},[r("el-input",{attrs:{disabled:"",placeholder:"系统自动生成，不用填写"},model:{value:e.form.id,callback:function(t){e.form.id=t},expression:"form.id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"包含的字符串"}},[r("el-input",{attrs:{placeholder:"请填写包含的字符串"},model:{value:e.form.include,callback:function(t){e.form.include=t},expression:"form.include"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排除的字符串"}},[r("el-input",{attrs:{placeholder:"请填写排除的字符串"},model:{value:e.form.exclude,callback:function(t){e.form.exclude=t},expression:"form.exclude"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"关联模板"}},[r("el-input",{attrs:{placeholder:"请填写关联模板ID"},model:{value:e.form.pageid,callback:function(t){e.form.pageid=t},expression:"form.pageid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"链接采集区域"}},[r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请填写表链接采集区域"},model:{value:e.form.area,callback:function(t){e.form.area=t},expression:"form.area"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"表达式类型"}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择表达式类型"},model:{value:e.form.exp_type,callback:function(t){e.form.exp_type=t},expression:"form.exp_type"}},e._l(e.extractor_type_list,function(e,t,a){return r("el-option",{key:a,attrs:{label:t,value:e}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"抽取表达式"}},[r("el-input",{attrs:{placeholder:"请填写抽取表达式"},model:{value:e.form.expression,callback:function(t){e.form.expression=t},expression:"form.expression"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"爬虫类型"}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择爬虫类型"},model:{value:e.form.spider_type,callback:function(t){e.form.spider_type=t},expression:"form.spider_type"}},e._l(e.spider_list,function(e,t,a){return r("el-option",{key:a,attrs:{label:t,value:e}})}))],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]}}});