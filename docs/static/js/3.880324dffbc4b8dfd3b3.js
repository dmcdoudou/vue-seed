webpackJsonp([3],{113:function(e,t,r){r(258);var s=r(18)(r(188),r(269),"data-v-0463d2f0",null);e.exports=s.exports},127:function(e,t,r){e.exports={default:r(128),__esModule:!0}},128:function(e,t,r){var s=r(129),a=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},129:function(e,t){var r=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(127),a=r.n(s),i={parse_list:"seed/parse",spider_list:"type/list",submit_create:"template/create?type=Seeds",submit_edit:"template/update?type=Seeds"};t.default={name:"handleseeds",data:function(){return{form:{id:"",key:"",parser:"",pageid:"",spider_type:"",status:!0},parse_list:{},spider_list:{},flag:this.$route.query.type}},created:function(){this.getParseList(),this.getSpiderList(),this.renderPage()},methods:{getParseList:function(){var e=this;this.$http.get(i.parse_list).then(function(t){"Success"===t.body.msg&&(e.parse_list=t.body.data)},function(t){e.$message.error("网络错误，解析类型列表获取失败")})},getSpiderList:function(){var e=this;this.$http.get(i.spider_list).then(function(t){"Success"===t.body.msg&&(e.spider_list=t.body.data)},function(t){e.$message.error("网络错误，爬虫类型列表获取失败")})},renderPage:function(){if("edit"===this.flag){var e=JSON.parse(this.$route.query.data);e.status=1===e.status,delete e.parse_name,delete e.spider_name,this.form=e}},onSubmit:function(){var e=this,t=JSON.parse(a()(this.form));t.status=!0===t.status?1:0;var r="edit"===this.flag?i.submit_edit:i.submit_create;this.$http.post(r,t).then(function(t){"Success"===t.body.msg&&(e.$message.success("编辑成功！"),e.goBack())},function(t){e.$message.error("网络错误，请稍后重试")})},goBack:function(){this.$router.push("Seeds")}}}},194:function(e,t,r){t=e.exports=r(108)(),t.push([e.i,".form-wrap[data-v-0463d2f0]{margin:40px auto 0;width:50%}.el-select[data-v-0463d2f0]{width:100%}",""])},258:function(e,t,r){var s=r(194);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);r(109)("f355b0d6",s,!0)},269:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/Seeds"}}},[e._v("种子列表")]),e._v(" "),r("el-breadcrumb-item",[e._v(e._s("add"===e.flag?"新增种子":"编辑种子"))])],1),e._v(" "),r("div",{staticClass:"form-wrap"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"序号"}},[r("el-input",{attrs:{disabled:"",placeholder:"系统自动生成，不用填写"},model:{value:e.form.id,callback:function(t){e.form.id=t},expression:"form.id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"种子表达式"}},[r("el-input",{attrs:{placeholder:"请填写种子表达式"},model:{value:e.form.key,callback:function(t){e.form.key=t},expression:"form.key"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"种子状态"}},[r("el-switch",{attrs:{"on-text":"ON","off-text":"OFF"},model:{value:e.form.status,callback:function(t){e.form.status=t},expression:"form.status"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"种子解析类型"}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择种子解析类型"},model:{value:e.form.parser,callback:function(t){e.form.parser=t},expression:"form.parser"}},e._l(e.parse_list,function(e,t,s){return r("el-option",{key:s,attrs:{label:t,value:e}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"爬虫类型"}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择爬虫类型"},model:{value:e.form.spider_type,callback:function(t){e.form.spider_type=t},expression:"form.spider_type"}},e._l(e.spider_list,function(e,t,s){return r("el-option",{key:s,attrs:{label:t,value:e}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"关联模板"}},[r("el-input",{attrs:{placeholder:"请填写关联模板ID"},model:{value:e.form.pageid,callback:function(t){e.form.pageid=e._n(t)},expression:"form.pageid"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]}}});