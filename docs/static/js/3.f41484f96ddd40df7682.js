webpackJsonp([3],{112:function(e,t,r){r(256);var a=r(18)(r(186),r(266),"data-v-0f32f6aa",null);e.exports=a.exports},127:function(e,t,r){e.exports={default:r(128),__esModule:!0}},128:function(e,t,r){var a=r(129),s=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},129:function(e,t){var r=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(127),s=r.n(a),i="http://111.22.333.44:5555",o={extractor_type_list:i+"/api/spider/extractor/type/list",spider_list:i+"/api/spider/type/list",submit:i+"/api/spider/seed/update"};t.default={name:"handleschema",data:function(){return{form:{id:"",table_name:"",area:"",spider_type:""},extractor_type_list:{},spider_list:{}}},created:function(){this.getExtractorTypeList(),this.getSpiderList(),this.renderPage()},methods:{getExtractorTypeList:function(){var e=this;this.$http.get(o.extractor_type_list).then(function(t){"Success"===t.body.msg&&(e.extractor_type_list=t.body.data)},function(t){e.$message.error("网络错误，下载类型列表获取失败")})},getSpiderList:function(){var e=this;this.$http.get(o.spider_list).then(function(t){"Success"===t.body.msg&&(e.spider_list=t.body.data)},function(t){e.$message.error("网络错误，爬虫类型列表获取失败")})},renderPage:function(){var e=this.$route.query.type,t=this.$route.query.data;if("edit"===e){var r=JSON.parse(t);this.form=r}},onSubmit:function(){var e=this,t=JSON.parse(s()(this.form));this.$http.post(o.submit,{params:t}).then(function(t){"Success"===t.body.msg&&(e.$message.success("编辑成功！"),e.goBack())},function(t){e.$message.error("网络错误，请稍后重试")})},goBack:function(){this.$router.push("Schema")}}}},193:function(e,t,r){t=e.exports=r(108)(),t.push([e.i,".form-wrap[data-v-0f32f6aa]{margin:40px auto 0;width:50%}.el-select[data-v-0f32f6aa]{width:100%}",""])},256:function(e,t,r){var a=r(193);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(109)("4d4adae8",a,!0)},266:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/Schema"}}},[e._v("表单列表")]),e._v(" "),r("el-breadcrumb-item",[e._v(e._s("add"===this.$route.query.type?"新增表单":"编辑表单"))])],1),e._v(" "),r("div",{staticClass:"form-wrap"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"序号"}},[r("el-input",{attrs:{disabled:"",placeholder:"系统自动生成，不用填写"},model:{value:e.form.id,callback:function(t){e.form.id=t},expression:"form.id"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"表单名称"}},[r("el-input",{attrs:{placeholder:"请填写表单名称"},model:{value:e.form.table_name,callback:function(t){e.form.table_name=t},expression:"form.table_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"表单采集区域"}},[r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请填写表单表单采集区域"},model:{value:e.form.area,callback:function(t){e.form.area=t},expression:"form.area"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"爬虫类型"}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择爬虫类型"},model:{value:e.form.spider_type,callback:function(t){e.form.spider_type=t},expression:"form.spider_type"}},e._l(e.spider_list,function(e,t,a){return r("el-option",{key:a,attrs:{label:t,value:e}})}))],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:e.goBack}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]}}});